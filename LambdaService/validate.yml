parameters:
- name: buildDirectories
  type: object
  default: ''

steps:
- ${{ if eq(parameters.buildDirectories, '') }}:
  - script: echo "##vso[task.logissue type=warning]No build directories specified."

- ${{ if ne(parameters.buildDirectories, '') }}:
  - ${{ each entry in parameters.buildDirectories }}:
    - script: ls ${{ entry.Key}}
      displayName: Unit Tests
      workingDirectory: lambdas/${{ entry.Key}}
# - script: |
#     for dir in *
#       do (cd "$dir" && npm install && npm test)
#     done
#   displayName: Unit Tests
#   workingDirectory: lambdas
